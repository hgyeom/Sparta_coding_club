<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>

    <title>스파르타코딩클럽 | 부트스트랩 연습하기</title>

    <style>
        /* 폰트 */
        @import url('https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap');
        * {
            font-family: 'Gowun Dodum', sans-serif;
        }

        .myTitle {
            /* 배경 어둡게, 이미지 등록 */
            background-image: linear-gradient(0deg, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)) , url('https://movie-phinf.pstatic.net/20210715_95/1626338192428gTnJl_JPEG/movie_image.jpg');
            background-position: center;
            background-size: cover;


            color: white;

            height: 250px;

            /* 정렬 */
            display: flex;
            /* 세로 정렬 */
            flex-direction: column;
            /* 중앙 정렬 */
            align-items: center;
            justify-content: center;
        }
        .myTitle > button {
            width: 250px;
            height: 50px;
            color: white;
            /* 배경색 부모값 따라가기 */
            background-color: transparent;
            /* 경계 실선 1px 흰색 */
            border: 1px solid white;
            /* 경계선 둥글게 */
            border-radius: 50px;
            margin-top: 20px;

            
        }
        .myTitle > button:hover {
            /* 마우스 올리면 작동 */
            border: 2px solid white;
        }
        .myComment{
            color: gray;
        }
        .myCards{
            /* 정렬 */
            width: 1200px;
            margin: 20px auto 20px auto;
        }
        .myPost {
            width: 500px;
            margin: 20px auto 20px auto;
            padding: 20px 20px 20px 20px;
            /* 그림자 */
            box-shadow: 0px 0px 3px 0px gray;

        }
        .myBtn{
            margin-top: 5px;

            display: flex;
            /* 세로 정렬 */
            flex-direction: row;
            /* 중앙 정렬 */
            align-items: center;
            justify-content: center;
        }
        .myBtn > button{
            margin-right: 10px;
        }

    </style>

<head>
    <script>
        $(document).ready(function() {
            fetch("http://spartacodingclub.shop/sparta_api/weather/seoul").then(res => res.json()).then(data => {
                let ondo = data['temp'];
                $('#temp').text(ondo);
            });
            fetch("http://spartacodingclub.shop/web/api/movie").then(res => res.json()).then(data => {
                let rows = data['movies']
                $('#cards').empty();
                rows.forEach((a) => {
                    let title = a['title'];
                    let desc = a['desc'];
                    let comment = a['comment'];
                    let star = a['star'];
                    let image = a['image'];
                    
                    let star_image = '⭐'.repeat(star);
                    let temp_html = `<div class="col">
                                        <div class="card h-100">
                                            <img src="${image}" class="card-img-top" alt="...">
                                            <div class="card-body">
                                            <h5 class="card-title">${title}</h5>
                                            <p class="card-text">${desc}</p>
                                            <p>${star_image}</p>
                                            <p class="myComment">${comment}</p>
                                            </div>
                                        </div>
                                    </div>`
                    $('#cards').append(temp_html);
                });
            });
        })
    </script>
</head>
<body>
    <div class="myTitle">
        <h1>내 생에 최고의 영화들</h1>
        <div>현재 서울의 날씨 : <span id="temp">20</span>도</div>
        <button onclick="hey()">영화 기록하기</button>
    </div>
    <div class="myPost">
        <div class="form-floating mb-3">
            <input type="email" class="form-control" id="floatingInput" placeholder="name@example.com">
            <label for="floatingInput">영화URL</label>
        </div>
        <div class="input-group mb-3">
            <label class="input-group-text" for="inputGroupSelect01">별점</label>
            <select class="form-select" id="inputGroupSelect01">
                <option selected>-- 선택하기 --</option>
                <option value="1">⭐</option>
                <option value="2">⭐⭐</option>
                <option value="3">⭐⭐⭐</option>
                <option value="4">⭐⭐⭐⭐</option>
                <option value="5">⭐⭐⭐⭐⭐</option>
            </select>
        </div>
        <div class="form-floating">
            <textarea class="form-control" placeholder="Leave a comment here" id="floatingTextarea"></textarea>
            <label for="floatingTextarea">코멘트</label>
        </div>
        <div class="myBtn">
            <button type="button" class="btn btn-dark">기록하기</button>
            <button type="button" class="btn btn-outline-dark">닫기</button>

        </div>
    </div>
    <!-- 아래쪽 카드 -->
    <div class="myCards">
        <div id="cards" class="row row-cols-1 row-cols-md-4 g-4">
            <div class="col">
              <div class="card h-100">
                <img src="https://movie-phinf.pstatic.net/20210728_221/1627440327667GyoYj_JPEG/movie_image.jpg" class="card-img-top" alt="...">
                <div class="card-body">
                  <h5 class="card-title">영화 제목.</h5>
                  <p class="card-text">코멘트.</p>
                  <p>⭐⭐⭐</p>
                  <p class="myComment">후기 작성란</p>
                </div>
              </div>
            </div>
            <div class="col">
                <div class="card h-100">
                  <img src="https://movie-phinf.pstatic.net/20210728_221/1627440327667GyoYj_JPEG/movie_image.jpg" class="card-img-top" alt="...">
                  <div class="card-body">
                    <h5 class="card-title">영화 제목.</h5>
                    <p class="card-text">코멘트.</p>
                    <p>⭐⭐⭐</p>
                    <p class="myComment">후기 작성란</p>
                  </div>
                </div>
            </div>
            <div class="col">
            <div class="card h-100">
                <img src="https://movie-phinf.pstatic.net/20210728_221/1627440327667GyoYj_JPEG/movie_image.jpg" class="card-img-top" alt="...">
                <div class="card-body">
                <h5 class="card-title">영화 제목.</h5>
                <p class="card-text">코멘트.</p>
                <p>⭐⭐⭐</p>
                <p class="myComment">후기 작성란</p>
                </div>
            </div>
            </div>
            <div class="col">
            <div class="card h-100">
                <img src="https://movie-phinf.pstatic.net/20210728_221/1627440327667GyoYj_JPEG/movie_image.jpg" class="card-img-top" alt="...">
                <div class="card-body">
                <h5 class="card-title">영화 제목.</h5>
                <p class="card-text">코멘트.</p>
                <p>⭐⭐⭐</p>
                <p class="myComment">후기 작성란</p>
                </div>
            </div>
            </div>
          </div>
    </div>
</body>
</html>